model{
  for(s in 1:2){
    R[s] ~ dhyper(M[s], NM[s], C[s], 1)
    NM[s] <- round(N[s] - M[s])
    N[s] ~ dunif(0, 25000)
    R_obs[s] ~ dbinom(pR_samp, R[s])
  }
  C_samp ~ dbinom(pC_samp, C_weir)
  pC_samp ~ dbeta(1, 1)
  C_male ~ dbinom(p_male, C_samp)
  p_male ~ dbeta(1, 1)

  C[1] = round(C_weir * p_male)
  C[2] = round(C_weir * (1 - p_male))

  muR_weir <- R[1] + R[2]
  R_weir ~ dnorm(muR_weir, 1)
  pR_samp ~ dbeta(1, 1)
}
